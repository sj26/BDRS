<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Jasmine Test Runner for the BDRS</title>
    <script src="../js/jquery-1.5.1.min.js" type="text/javascript"></script>
	<!-- consider moving the tests that involve mapping to a new file in the future... -->
	<script src="../js/ol/OpenLayers.js" type="text/javascript"></script>
  
    <!-- jasmine stuff... -->
    <link rel="stylesheet" type="text/css" href="../js/jasmine-standalone-1.0.2/lib/jasmine-1.0.2/jasmine.css">
    <script type="text/javascript" src="../js/jasmine-standalone-1.0.2/lib/jasmine-1.0.2/jasmine.js"></script>
    <script type="text/javascript" src="../js/jasmine-standalone-1.0.2/lib/jasmine-1.0.2/jasmine-html.js"></script>

    <!-- Tests that DONT involve mapping go here -->
	
	<!-- Tests that involve mapping go here .... -->
	<script type="text/javascript" src="bdrs/map/MapServerQueryManagerTest.js"></script>
	<script type="text/javascript" src="bdrs/map/BufferCalcTest.js"></script>
	<script type="text/javascript" src="bdrs/map/SldGeneratorTest.js"></script>
    
</head>
<body>
	
<script type="text/javascript">
    // we can overwrite this function in the test framework to change our path appropriately...
	if (window.bdrs === undefined) {
		window.bdrs = {};
	}
	
    bdrs.require = function(file) {
        jQuery.require("../../../js/" + file);
    };
</script>

<!-- now that we've over ridden the bdrs.require function so we can actually find out files, include the bdrs stuff! -->
<script type="text/javascript" src="../js/bdrs.js"></script>

<script type="text/javascript">
	
	beforeEach(function() {
		this.addMatchers({
			toEqualFloat: function(value, tolerance) { 
			     var lower = value - tolerance;
				 var upper = value + tolerance;
				 return (this.actual > lower && this.actual < upper);
			} 
		});
	});
	
	// run out tests!	
    jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
    jasmine.getEnv().execute();
</script>
</body>
</html>